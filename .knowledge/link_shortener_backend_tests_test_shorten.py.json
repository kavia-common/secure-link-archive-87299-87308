{"is_source_file": true, "format": "Python", "description": "Unit tests for URL shortening API endpoint, testing successful URL shortening and handling of invalid URL inputs.", "external_files": ["src.api.services.archive_url", "src.api.services.get_base_url"], "external_methods": ["src.api.services.archive_url", "src.api.services.get_base_url"], "published": [], "classes": [], "methods": [{"name": "test_shorten_happy_path(client, monkeypatch)", "description": "Tests the successful URL shortening flow, verifies response data and service calls.", "scope": "", "scopeKind": ""}, {"name": "test_shorten_invalid_url_returns_400(client)", "description": "Tests handling of invalid URL input, expects 400 or 422 status code.", "scope": "", "scopeKind": ""}], "calls": ["patch", "client.post", "assert resp.status_code", "resp.json", "mock_archive.assert_called_once_with"], "search-terms": ["test_shorten_happy_path", "test_shorten_invalid_url_returns_400", "pytest", "unit tests", "URL shortening", "mock", "patch", "client.post"], "state": 2, "file_id": 11, "knowledge_revision": 38, "git_revision": "a07ef7c598d16e6d6fd4a6e06b51f71e2d358911", "revision_history": [{"30": ""}, {"38": "a07ef7c598d16e6d6fd4a6e06b51f71e2d358911"}], "ctags": [{"_type": "tag", "name": "test_shorten_happy_path", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/test_shorten.py", "pattern": "/^def test_shorten_happy_path(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_shorten_invalid_url_returns_400", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/test_shorten.py", "pattern": "/^def test_shorten_invalid_url_returns_400(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}], "hash": "dbdbecac7ce1441797255429f52f1bf1", "format-version": 4, "code-base-name": "link_shortener_backend", "filename": "link_shortener_backend/tests/test_shorten.py"}