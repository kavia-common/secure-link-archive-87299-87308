{"is_source_file": true, "format": "Python", "description": "Source test file using pytest framework for testing the URL shortening backend API, testing the happy path and invalid URL scenarios.", "external_files": ["src.api.services.archive_url", "src.api.services.get_base_url"], "external_methods": ["src.api.services.archive_url", "src.api.services.get_base_url"], "published": [], "classes": [], "methods": [{"name": "test_shorten_happy_path(client, monkeypatch)", "description": "Tests the successful URL shortening process, verifying response contents and that external services are called appropriately.", "scope": "", "scopeKind": ""}, {"name": "test_shorten_invalid_url_returns_400(client)", "description": "Tests the response when an invalid URL is submitted, expecting a 400 or 422 status code.", "scope": "", "scopeKind": ""}], "calls": ["pytest.mark.usefixtures", "monkeypatch.setenv", "patch(\"src.api.services.archive_url\")", "patch(\"src.api.services.get_base_url\")", "client.post"], "search-terms": ["pytest", "test_shorten_happy_path", "test_shorten_invalid_url_returns_400", "archive_url", "get_base_url", "shorten", "URL"], "state": 2, "file_id": 11, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "test_shorten_happy_path", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/test_shorten.py", "pattern": "/^def test_shorten_happy_path(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_shorten_invalid_url_returns_400", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/test_shorten.py", "pattern": "/^def test_shorten_invalid_url_returns_400(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}], "hash": "0ae759d5acfe43a93eec5a3eb8ed63c3", "format-version": 4, "code-base-name": "link_shortener_backend", "filename": "link_shortener_backend/tests/test_shorten.py", "revision_history": [{"30": ""}]}