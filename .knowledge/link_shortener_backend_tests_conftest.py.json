{"is_source_file": true, "format": "Python", "description": "This file is a test configuration file for a FastAPI application, containing fixtures and helper functions for testing API routes. It sets environment variables, imports the application, defines test fixtures for app and client, and includes functions to verify route mounting, marking tests as expected failures if certain API endpoints are missing.", "external_files": ["src.api.main"], "external_methods": ["importlib.import_module", "pytest.xfail", "os.environ.setdefault"], "published": [], "classes": [], "methods": [{"name": "app()", "description": "Returns the FastAPI app instance for testing, imported from src.api.main.", "scope": "", "scopeKind": ""}, {"name": "client(app)", "description": "Provides a TestClient instance for the application.", "scope": "", "scopeKind": ""}, {"name": "bool _router_mounted(app, prefix: str)", "description": "Checks if a route prefix is mounted in the app's router.", "scope": "", "scopeKind": ""}, {"name": "ensure_shorten_routes(app)", "description": "Fixture that marks tests as expected failures if /api/urls is not mounted.", "scope": "", "scopeKind": ""}, {"name": "ensure_redirect_routes(app)", "description": "Fixture that marks tests as expected failures if /r/ is not mounted.", "scope": "", "scopeKind": ""}, {"name": "ensure_compare_routes(app)", "description": "Fixture that marks tests as expected failures if /api/compare is not mounted.", "scope": "", "scopeKind": ""}, {"name": "ensure_header_routes(app)", "description": "Fixture that marks tests as expected failures if /api/header is not mounted.", "scope": "", "scopeKind": ""}], "calls": ["importlib.import_module('src.api.main')", "pytest.xfail"], "search-terms": ["conftest.py", "FastAPI test fixtures", "route mounting verification", "pytest fixtures", "FastAPI application import"], "state": 2, "file_id": 10, "knowledge_revision": 35, "git_revision": "a07ef7c598d16e6d6fd4a6e06b51f71e2d358911", "revision_history": [{"27": ""}, {"35": "a07ef7c598d16e6d6fd4a6e06b51f71e2d358911"}], "ctags": [{"_type": "tag", "name": "_router_mounted", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def _router_mounted(app, prefix: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(app, prefix: str)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def app():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def client(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}, {"_type": "tag", "name": "ensure_compare_routes", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def ensure_compare_routes(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}, {"_type": "tag", "name": "ensure_header_routes", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def ensure_header_routes(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}, {"_type": "tag", "name": "ensure_redirect_routes", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def ensure_redirect_routes(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}, {"_type": "tag", "name": "ensure_shorten_routes", "path": "/home/kavia/workspace/code-generation/secure-link-archive-87299-87308/link_shortener_backend/tests/conftest.py", "pattern": "/^def ensure_shorten_routes(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}], "hash": "745e88439d9dc5844ac2f9606766660f", "format-version": 4, "code-base-name": "link_shortener_backend", "filename": "link_shortener_backend/tests/conftest.py"}